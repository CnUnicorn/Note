## 多线程接口调用，共用一个Map做请求报文，导致Map内容被多个线程覆写

**场景：**

1、主线程从数据库分页查询客户基本信息

2、主线程将客户基本信息的list传入线程池，进行调用

**问题：**

1、请求报文通过Map的形式构建，然后转成JSON String

2、Map在主线程创建，子线程中对客户的基本信息（名称、证件号）进行覆盖

3、多个子线程会覆写同一个Map中的数据，导致子线程在调用时，请求报文可能已经被其它线程修改了



## Oracle表空间清理



## Oracle修改用户名密码

1、登录服务器，切换到oracle用户 `su - oracle`

2、以dba身份打开sqlplus。`sqlplus / as sysdba`

3、修改用户密码。`alter user 用户名 identified by 新密码`（新密码如果区分大小写，需要用双引号包上密码，如"TestCode"）



**如果密码重试多次，导致账号被锁定：**

1、通过以下命令解锁：`alter user 用户名 account unlock`

2、通过以下命令查询账号登录失败次数：`SELECT RESOURCE_NAME, LIMIT FROM DBA_PROFILES WHERE RESOURCE_NAME = 'FAILED_LOGIN_ATTEMPTS';`



## Oracle建表

Oracle建表要指定表空间，如果不指定，默认建在当前用户的默认表空间下。

如：modifyuser建表时如果不指定表空间，会建在modifyuser的表空间下，而不是其它表空间



## 异常未捕获导致线程中断

当try catch中指定捕获的异常范围无法覆盖代码中可能出现的异常时，会出现线程中断，并不会有错误提示。

如：

* hutool调用接口时，接口路径错误与访问的IP地址错误，抛出的是两种不同的异常，如果有一者未捕获到，会导致线程中断，且无提示，比较迷惑
* 当mapper执行插入操作时，某个字段超过数据库的长度，抛出的异常并不是IOException，如果捕获IOException，会捕获不到异常，导致线程中断；最后是在ERROR日志中发现Oracle报错信息，反推出为未捕获到异常

