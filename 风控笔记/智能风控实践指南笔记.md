[toc]

# 1、智能风控包含的业务环节

<img src="智能风控实践指南笔记.assets/image-20240423151111618.png" alt="image-20240423151111618" style="zoom:80%;" />

## 1.1、营销

智能风控通 过收集大量数据，运用机器学习模型，预测客户的风险概率，自动评估信贷申请人的身份真 实性、信用等级和风险等级，并给予相应的信用额度和定价。

* 营销和风控的侧重点不同，**营销端负责获取大量客户，风控端负责筛选出好客户**
* 营 销的目标是获取符合期望的目标客户，而不仅仅是获得一定数量的客户。
* 营销环节的智能风 控应用主要包**括客户意向评估**、**客群细分**和**客群分层**。

### 1.1.1、营销意向评估

​	营销的第一个关键点是找到有需求且有意向购买信贷产品的客群，**提升营销环节转化率**， 从而降低分摊到每个申请客户上的成本。

​	在智能风控中，我们利用从营销环节到申请环节可以获得的**多维、异构化、高度分散**的数据，进行整合分析，形成**客户画像**，同时利用机器学习技术建立营销响应模型。根据客户响应概率，客户可分为**高响应客户、中响应客户和低响应**客户。针对不同的响应级别，金融机构可以设置不同的营销策略，如对高响应客户采取主动营销策略（如电话营销），对低响应客户可暂时放弃，以降低营销成本。



### 1.1.2、客群细分

​	不同类型的客户对信贷产品的需求不同，根据客户的不同需求，有针对性地营销产品， 有利于提升申请转化率。当然，不同人的需求有很多共性，金融机构提供的产品是有限的， 有效的做法是区别对待每一群人，为“相似”的人提供同一类产品。

​	在智能营销中，通过建立客户分群模型，可以将具有多个相似特征的客户划分到一个细分群体，进而分析细分客群的需求，提供相应的信贷产品。例如，在细分客户中，发现有车 人群，可以设计针对车主的营销方案和定制产品。



### 1.1.3、客群分层

​	客群分层是指将**潜在的信贷申请客户**，**预先**进行风险等级评定，从而在营销之前将一些高风险客户排除在外，为低风险客户提供更有吸引力的金融产品。

​	在智能风控中，通过建立一系列客户筛选规则和预授信模型，对客户进行分层评估，从 而有区别地进行营销。营销阶段的客群分层有利于降低整体客群的风险水平，提高转化率， 降低营销成本。我们可以认为，客群分层是一种**风控前置**的方法。



## 1.2、贷前

​	智能风控通过收集大量数据，运用机器学习模型，预测客户的风险概率，自动**评估信贷申请人的身份真实性、信用等级和风险等级**，并给予相应的信用**额度**和**定价**。

​	贷前风控主要包括**身份验证**、**反欺诈**、**信用评估**，以及**额度和定价评估**。

1. 身份验证。人脸识别、活体检测、通过官方信息库校验身份证等信息准确性（二要素、三要素验证）。

2. 反欺诈。主要是**贷前申请欺诈**。在智能风控中，我们已经通过**身份认证技术**解决了一部分身份欺诈问题，但是，还有更隐蔽的欺诈方式，需要借助多元化的工具解决。例如，我们从**关系网络数据**、**设备信息**等 多种高维度数据中挖掘特征，构建一系列反欺诈规则和模型，提高欺诈案件识别率。

3. 信用评估。目的是确认借款人的**还款意愿**和**还款能力**。还款意愿可以通过借款人的历史行为体现，如之前的借款是 否按时偿还，还款能力可以从借款人的收入水平方面判断。

   ​	通常借助多维度大数据建立信用风险模型，对借款人的信用等级进 行评估。这些数据维度包括**中国人民银行征信数据、客户社交、司法、行为、搜索、电商、 线上线下消费等**。由于还款意愿和还款能力很难绝对区分，因此，通常将体现还款意愿或者 还款能力的各维度特征综合以作为模型的输入，通过模型学习，从历史有表现的数据中找到 各个维度与信用等级的量化关系，从而进行综合信用等级评估。

4. 额度和定价评估。信贷产品的关键要素包括**授信额度、利率、期限**。





## 1.3、贷中

​	**贷中环节是指贷款申请成功到贷款结清阶段**，一旦客户逾期，就转入贷后环节。信贷 产品一般分多期进行还款，有可能在贷款期间存在提额和提款需求，因此，贷中管理关系到**还款质量、新需求是否满足和客户风险的变动**。贷中风险控制主要包括**额度和定价调整**，**交易风险和反欺诈**，以及**贷中风险预警**。

1.  额度和定价调整

   ​	贷中额度和定价调整一般有两种情况：一是客户主动发起调整申请，二是金融机构为了 满足客户潜在需求而主动调整。在智能风控中，我们一般通过**贷中风险模型对客户的信用等级进行重新评估**，当客户 信用等级比以前高（信用更好）时，给予更高的额度和更优惠的定价。金融机构可以主动、 定期地运行贷中风险模型，对客户进行信用等级评估，从而给出更合理的产品方案，这将有 利于留存客户，提升客户价值。

2. 交易风险和反欺诈

   ​	当客户获得授信额度后，真正的**借款交易可能在贷中分多次进行**。而**客户的资质和风险是随着时间变化的**，因此，在贷中，需要对在线交易进行仿冒和欺诈识别，对借款人的行为 进行分析，有效防范和控制欺诈交易等贷中风险。

   在智能风控中，我们通过**关联各类数据，寻找新出现的欺诈模式，运用机器学习、深度学习、图谱学习**等技术，**构建贷中反欺诈规则和模型，对风险进行拦截**。

3. 贷中风险预警。在客户借款之后，就可以**通过客户的贷中行为对客户是否会入催进行预测**，从而提前知道哪些客户有可能逾期。**对于高风险客户，提前介入催收，往往会取得良好的效果**，因为信贷借款人往往存在从多个金融机构借款的情况，而当客户还款资金有限时，更早介入的金融机构往往更有可能收回贷款。

   ​	在智能风控中，我们可以构建**贷中风险预估模型和贷中逾期识别规则**，提前预判入催可能性高的客户，并采取有效措施以降低借款人入催的比例，从而降低贷款逾期率，减少损失。

## 1.4、贷后

​	贷后风险控制主要包括**还款预估和失联预估**等。



# 2、搭建智能风控体系模型

## 2.1、模型概述

我们可以采用多种机器学习算法搭建风控模型，它们的主要步骤是相同的，一般包括**问题定义，样本的选择与划分，模型架构设计，数据准备与描述分析，数据清洗， 特征选择，模型训练与效果评估，部署上线，模型监控，以及模型调优**10 个步骤。

* 1~3步属于模型立项分析阶段。
* 4~7步属于模型预训练开发阶段。
* 8~10步属于模型上线和维护阶段。

<img src="%E6%99%BA%E8%83%BD%E9%A3%8E%E6%8E%A7%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97%E7%AC%94%E8%AE%B0.assets/image-20240423203247896.png" alt="image-20240423203247896" style="zoom:67%;" />

## 2.2、构建好样本

### 2.2.1、问题定义

实际业务中，确定项目背景和目标，做好问题定义非常重要（标签、样本），基于错误的问题定义，模型训练越好，结果可能越糟糕。

1. **预测对象粒度**。实际业务中，面对的可能是不同层次（维度）的问题。一个客户的所有借款和一个客户的每笔借款（一个客户可能有多比借款）是不同的层次（维度）。

   * **渠道粒度**：在某些场景下，借款申请人来自同一个来源渠道，我们可以预测渠道的风险， 一个渠道是一条记录。

   * **客户粒度**：一个借款人可能有多笔借款，从借款申请人的层次角度考虑风险，只要其任 何一笔借款出现逾期，即表示出现风险事件，一个人是一条记录。

   * **借款粒度**：对借款人的一次借款申请考虑风险，该笔借款逾期，即表示出现风险事件，一次借款是一条记录。

   * **还款粒度**：每个借款人的每次借款都可能分为不同的还款期，那么一次还款是一条记录。

     ​	在实际业务中，我们需要根据**业务模式**和**模型应用策略**来选择合适的粒度进行建模，如一次性借款产品的申请风险模型通常选择借款粒度；循环额度产品选择客户粒度；催收还款预估时通常选用还款粒度。预测对象的粒度决定了标签定义和特征计算的粒度。

2. **标签定义**。标签是模型所要预测的结果，它可以是二元分类结果，如好/坏、响应/不响应等；也可以是连续变量，如收益、损失等。**标签定义需要明确的是在什么时间点预测未来多久发生的什么事件**。我们考虑在什么时间点进行预测， 这个时间点即观测点。**观测点前后分别是观察窗口和表现窗口**。

   * **观察窗口**：用来观察客户行为的时间区间。设计特征时，一般需要考虑不同的时间窗口，如最近 3、6、9 或 12 个月内在其他机构申请的次数， 最近 3、6、9 或 12 个月内借款的总金额等。观察窗口也称为观察期。
   * **表现窗口**：用来考察客户的表现，从而确定标签定义（逾期客户、响应客户）的时间区间。表现窗口也称作表现期。

   <img src="%E6%99%BA%E8%83%BD%E9%A3%8E%E6%8E%A7%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97%E7%AC%94%E8%AE%B0.assets/image-20240423205252738.png" alt="image-20240423205252738" style="zoom:67%;" />

   

   标签定义中，对于好坏程度和表现窗口的长度，需要结合**滚动率分析**和**账龄分析**。

   * **滚动率分析**。滚动率是指，客户从某个观测点之前的一段时间的逾期状态向观测点之后的一段时间的逾期状态转化的比例。例如，我们以 2020 年 7 月 1 日为观测点，选取 1 万名客户，统计这部分客户在上个月的逾期状态，对比他们在当月的逾期状态的转化比例。下图为某信贷产品的滚动率结果。由于是和这个月对比，所以逾期最多只增加一个月。

     <img src="%E6%99%BA%E8%83%BD%E9%A3%8E%E6%8E%A7%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97%E7%AC%94%E8%AE%B0.assets/image-20240423210624560.png" alt="image-20240423210624560" style="zoom:67%;" />

     上个月逾期状态为 M3 及 M3+的客户，好转率已经比较低了（只有24%），因此，我们**可以认为逾期状态为 M2+ 的客户已经足够“坏”**，用 M2+（逾期天数大于 60）来定义“坏”客户较为合适。

   * **账龄分析**。