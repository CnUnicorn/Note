# 剑指offer 67. 把字符串转换成整数

没有特殊的解法，按流程来，除了一些细节的地方。

```java
class Solution {
    public int strToInt(String str) {
        char[] chars = str.trim().toCharArray(); // 去掉首位空格
        if (chars.length == 0) return 0; // 排除空的情况
        int i = 1, sign = 1; // 默认为整数，第一个符号位'+'
        if (chars[0] == '-') {
            sign = -1;
        }
        else if (chars[0] != '+') {
            i = 0; // 第一个符号既不是+，也不是-，起点从0开始
        }

        int res = 0, bnry = Integer.MAX_VALUE / 10; // 使用res来存储结果，每遍历一个是数字的字符就更新结果 res = res * 10 + chars[j] - '0'
        for (int j = i;j < chars.length;j++) {  // 如果第一个字符不是数字，直接break掉，返回0，也包含在里面了
            if (chars[j] < '0' || chars[j] > '9') break;
            if (res > bnry || (res == bnry && chars[j] > '7')) return sign == 1 ? Integer.MAX_VALUE : Integer.MIN_VALUE; // 处理越界的情况，当c[j] = 8时，如果是正数，那么越界，返回MAX_VALUE;如果是负数，那么实际上没有越界，但是此时正好是MIN_VALUE，这一点处理很巧妙
            res = res * 10 + chars[j] - '0';
        }

        return res * sign;
    }
}
```

